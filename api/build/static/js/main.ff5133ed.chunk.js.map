{"version":3,"sources":["components/button/button.js","api-gateway.js","locales/index.js","hooks/use-locale.js","routes.js","pages/todo/todo.js","components/layout/layout.js","App.js","index.js"],"names":["Button","props","name","className","onClick","headers","ITEM_ENDPOINT","API_METHODS","ApiAdapter","endPoint","method","body","url","fetch","JSON","stringify","then","res","json","catch","error","addItemAPI","data","a","meta","resp","console","getItemsAPI","updateItemAPI","deleteItemAPI","deleteAllItemsAPI","en","fr","useLocale","locale","window","localStorage","getItem","parse","i","string","locales","routes","path","component","useState","inputMessage","setInputMessage","items","setItems","useEffect","itemsList","Array","isArray","length","fetchItems","activeItems","filter","item","isCompleted","isDeleted","completedItems","addItem","title","itemSaved","deleteItem","itm","_id","updateItem","updatedItem","map","m","deleteAllItems","onChange","e","target","value","onKeyPress","keyCode","which","key","onPressEnter","placeholder","Layout","children","currentLocale","defaultBtnLabel","buttonLable","setButtonLabel","newSetLng","setItem","setLanguage","React","memo","App","route","exact","render","routeParams","urlParams","match","params","pageProps","ReactDOM","StrictMode","document","getElementById"],"mappings":"wvBAQeA,EALA,SAACC,GAAW,IAAD,EACwBA,EAAtCC,YADc,MACP,GADO,IACwBD,EAA3BE,iBADG,MACQ,GADR,EACYC,EAAYH,EAAZG,QAClC,OAAO,yBAAQD,UAAS,iBAAYA,GAAcC,QAASA,EAApD,cAAgEF,EAAhE,QCJLG,EAAU,CACR,eAAgB,mBAChB,OAAU,mBACV,8BAA+B,KAGjCC,EAAgB,QAGhBC,EACI,OADJA,EAEG,MAFHA,EAGM,SAHNA,EAIG,MAIHC,EAAa,SAACC,EAAD,GAAkC,IAArBC,EAAoB,EAApBA,OAASC,EAAW,EAAXA,KAC/BC,EAAG,UAAMH,EAAN,gBAET,OAAOI,MAAMD,EAAD,YAAC,aACTF,OAAQA,GACLC,GAAQ,CAAEA,KAAOG,KAAKC,UAAUJ,KAF3B,IAGRN,aAEHW,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBC,OAAM,SAAAC,GAAK,OAAGA,MAGNC,EAAU,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,sEAIZC,EAAO,CACTd,OAAQH,EACRI,KAAMW,GANQ,SASCd,EAAWF,EAAekB,GAT3B,cASZC,EATY,yBAUXA,GAVW,gCAalBC,QAAQN,MAAR,MAbkB,yDAAH,sDAiBVO,EAAW,uCAAG,8BAAAJ,EAAA,sEAGbC,EAAO,CACTd,OAAQH,GAJO,SAOAC,EAAWF,EAAekB,GAP1B,cAObC,EAPa,yBAQZA,GARY,gCAWnBC,QAAQN,MAAR,MAXmB,yDAAH,qDA+BXQ,EAAa,uCAAG,WAAON,GAAP,iBAAAC,EAAA,sEAGfC,EAAO,CACTd,OAAQH,EACRI,KAAMW,GALW,SAQFd,EAAWF,EAAekB,GARxB,cAQfC,EARe,yBASdA,GATc,gCAYrBC,QAAQN,MAAR,MAZqB,yDAAH,sDAgBbS,EAAa,uCAAG,WAAOP,GAAP,iBAAAC,EAAA,sEAIfC,EAAO,CACTd,OAAQH,EACRI,KAAMW,GANW,SASFd,EAAWF,EAAekB,GATxB,cASfC,EATe,yBAUdA,GAVc,gCAarBC,QAAQN,MAAR,MAbqB,yDAAH,sDAiBbU,EAAiB,uCAAG,8BAAAP,EAAA,sEAInBC,EAAO,CACTd,OAAQH,GALa,SAQNC,EA/GJ,SA+G+BgB,GARrB,cAQnBC,EARmB,yBASlBA,GATkB,gCAYzBC,QAAQN,MAAR,MAZyB,yDAAH,qDC5Gf,GACXW,G,MACAC,G,OCWWC,EAdG,WACd,IACMC,EAASC,OAAOC,aAAaC,QAAQ,UAAYvB,KAAKwB,MAAMH,OAAOC,aAAaC,QAAQ,WAD1E,KAQlB,MAAO,CACHE,EANI,SAACC,GAEP,OAAOC,EAAQP,GAAQM,IAAWA,KCE3BE,G,MARA,CACX,CACIxC,KAAM,OACNyC,KAAM,IACNC,UCCU,WAAO,IAAD,EACkBC,mBAAS,IAD3B,mBACfC,EADe,KACDC,EADC,KAEdR,EAAMN,IAANM,EAFc,EAGIM,mBAAS,IAHb,mBAGfG,EAHe,KAGRC,EAHQ,KAKtBC,qBAAU,YACQ,uCAAG,4BAAA3B,EAAA,sEACOI,IADP,QACZwB,EADY,SAGFC,MAAMC,QAAQF,IAAcA,EAAUG,QACrDL,EAASE,GAJQ,2CAAH,qDAQhBI,KACC,IAEH,IAAMC,GAAeR,GAAS,IAAIS,QAAO,SAAAC,GAAI,OAAKA,EAAKC,cAAgBD,EAAKE,aACtEC,GAAkBb,GAAS,IAAKS,QAAO,SAAAC,GAAI,OAAIA,EAAKC,eAGpDG,EAAO,uCAAG,8BAAAvC,EAAA,yDAEVuB,EAFU,wDAMRY,EAAQ,CACZK,MAAOjB,GAPK,SAWSzB,EAAWqC,GAXpB,QAWTM,EAXS,SAaCA,EAAUD,OACvBd,EAAS,CAACe,GAAF,mBAAgBhB,KAG1BD,EAAgB,IAjBF,2CAAH,qDAoBPkB,EAAU,uCAAG,WAAOP,GAAP,SAAAnC,EAAA,sEACXM,EAAc6B,GADH,OAEjBT,EAASD,EAAMS,QAAO,SAAAS,GAAG,OAAIA,EAAIC,MAAQT,EAAKS,QAF7B,2CAAH,sDAKVC,EAAU,uCAAG,WAAOV,GAAP,eAAAnC,EAAA,6DACX8C,EADW,2BAEZX,GAFY,IAGfC,aAAa,IAHE,SAMX/B,EAAcyC,GANH,OAQjBpB,EAASD,EAAMsB,KAAI,SAAAC,GAAC,OAAKA,EAAEJ,MAAQT,EAAKS,IAAOE,EAAcE,MAR5C,2CAAH,sDAiBVC,EAAc,uCAAG,sBAAAjD,EAAA,sEACfO,IADe,OAErBmB,EAAS,IAFY,2CAAH,qDAYpB,OAAO,qBAAK9C,UAAU,QAAf,SACL,sBAAKA,UAAU,kBAAf,UACE,wBAAQA,UAAU,eAAlB,SACE,+BAAOoC,EAAE,iBAGX,sBAAKpC,UAAU,sBAAf,UACE,gCACE,uBACEsE,SAAU,SAACC,GAAD,OAAO3B,EAAgB2B,EAAEC,OAAOC,QAC1CC,WAAY,SAACH,GAAD,OAjBD,SAACA,GAChBA,EAAEC,OAAOC,QAAUF,EAAEI,SAAuB,KAAZJ,EAAEK,OAA0B,UAAVL,EAAEM,MACtDlB,IAeyBmB,CAAaP,IAChCE,MAAO9B,EACP3C,UAAU,cACV+E,YAAa3C,EAAE,2BAEjB,cAAC,EAAD,CAAQrC,KAAMqC,EAAE,OAAQpC,UAAU,kBAAkBC,QAAS,SAACsE,GAhChE5B,GACFgB,UAiCE,8BACE,cAAC,EAAD,CACE5D,KAAMqC,EAAE,SACRpC,UAAU,gBACVC,QAAS,kBAAMoE,YAKrB,sBAAKrE,UAAU,uBAAf,UACE,oBAAIA,UAAU,qBAAd,SACGqD,EAAYc,KAAI,SAAAZ,GAAI,OACnB,qBAAIvD,UAAU,aAAd,UACE,sBAAMA,UAAU,yCAAyCC,QAAS,kBAAMgE,EAAWV,IAAnF,SAA2FA,EAAKK,QAChG,cAAC,EAAD,CACE7D,KAAMqC,EAAE,UACRpC,UAAU,iBACVC,QAAS,kBAAM6D,EAAWP,QALEA,EAAKS,UAWzC,oBAAIhE,UAAU,qBAAd,SACG0D,EAAeS,KAAI,SAAAZ,GAAI,OACtB,qBAAIvD,UAAU,6BAAd,cAA2D,uBAAMA,UAAU,kBAAhB,cAAoCuD,EAAKK,MAAzC,OAA3D,OAAgDL,EAAKS,sBCrH3DgB,G,MAAS,SAAClF,GAAW,IAEvBmF,EACEnF,EADFmF,SAGM7C,EAAMN,IAANM,EACF8C,EAAiBlD,OAAOC,aAAaC,QAAQ,UAAYvB,KAAKwB,MAAMH,OAAOC,aAAaC,QAAQ,WAAc,KAChHiD,EAAkB,UAEnBD,IACDC,EAAoC,OAAlBD,EAAyB,UAAY,UAVjC,MAacxC,mBAASyC,GAbvB,mBAajBC,EAbiB,KAaJC,EAbI,KA4BxB,OAJAtC,qBAAU,cACP,CAACqC,IAIF,sBAAKpF,UAAU,SAAf,UACE,sBAAKA,UAAU,cAAf,UACE,wBAAQA,UAAU,iBAAlB,SAAoCoC,EAAE,iBACtC,cAAC,EAAD,CAASrC,KAAMqF,EAAapF,UAAU,kCAAmCC,QAAS,kBAhBpE,WACf,IAAMqF,EAA8B,OAAlBJ,EAAyB,KAAO,KAElDG,EAA6B,OAAdC,EAAqB,UAAW,UAE/CtD,OAAOC,aAAasD,QAAQ,SAAU5E,KAAKC,UAAU0E,IAWoCE,SAGxF,qBAAKxF,UAAU,kBAAf,SACGiF,GADmCE,QAc/BM,MAAMC,KAAKV,GCrBXW,MA7Bf,WACE,OACE,8BACE,cAAC,IAAD,UACA,cAAC,IAAD,UACGpD,EAAO4B,KAAI,SAACyB,GAAD,OACV,cAAC,IAAD,CAEEpD,KAAMoD,EAAMpD,KACZqD,OAAK,EACLC,OAAQ,SAACC,GAAiB,IAGlBC,EAFYD,EAAVE,MAEgBC,OAClBC,EAAS,2BACVJ,GADU,IAEbC,cAGF,OAAS,eAAC,EAAD,eAAS,cAACJ,EAAMnD,UAAP,eAAqB0D,SAZpCP,EAAM7F,gBCRvBqG,IAASN,OACP,cAAC,IAAMO,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.ff5133ed.chunk.js","sourcesContent":["import React from 'react';\nimport './button.scss'\n\nconst Button = (props) => {\n    const { name = \"\", className= \"\", onClick } = props;\n    return <button className={`button ${className}`}  onClick={onClick} > {name} </button>\n}\n\nexport default Button;","const baseUrl = 'http://localhost:3001'\nconst headers = {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n        'Access-Control-Allow-Origin': '*',\n}\n\nconst ITEM_ENDPOINT = '/item'\nconst ITEMS_ENDPOINT = '/items'\n\nconst API_METHODS = {\n    post: 'POST',\n    get: 'GET',\n    delete: 'DELETE',\n    put: 'PUT',\n}\n\n\nconst ApiAdapter = (endPoint, { method , body }) => {\n    const url = `${endPoint}?format=json`\n    \n    return fetch(url, {\n        method: method,\n        ...body && { body : JSON.stringify(body) },\n        headers\n    })\n    .then(res => res.json())\n    .catch(error=> error);\n}\n\nexport const addItemAPI = async (data) => {\n\n    try {\n\n        const meta = {\n            method: API_METHODS['post'],\n            body: data,\n        };\n    \n        const resp = await ApiAdapter(ITEM_ENDPOINT, meta)\n        return resp;\n        \n    } catch (err) {\n        console.error(err);\n    }\n};\n\nexport const getItemsAPI = async () => {\n\n    try {\n        const meta = {\n            method: API_METHODS['get'],\n        };\n    \n        const resp = await ApiAdapter(ITEM_ENDPOINT, meta)\n        return resp;\n        \n    } catch (err) {\n        console.error(err);\n    }\n};\n\nexport const getItemAPI = async (id) => {\n\n    try {\n\n        const meta = {\n            method: API_METHODS['get'],\n        };\n    \n        const resp = await ApiAdapter(ITEM_ENDPOINT, meta)\n        return resp;\n        \n    } catch (err) {\n        console.error(err);\n    }\n};\n\nexport const updateItemAPI = async (data) => {\n\n    try {\n        const meta = {\n            method: API_METHODS['put'],\n            body: data,\n        };\n    \n        const resp = await ApiAdapter(ITEM_ENDPOINT, meta)\n        return resp;\n\n    } catch (err) {\n        console.error(err);\n    }\n};\n\nexport const deleteItemAPI = async (data) => {\n\n    try {\n\n        const meta = {\n            method: API_METHODS['delete'],\n            body: data,\n        };\n    \n        const resp = await ApiAdapter(ITEM_ENDPOINT, meta)\n        return resp;\n        \n    } catch (err) {\n        console.error(err);\n    }\n};\n\nexport const deleteAllItemsAPI = async () => {\n\n    try {\n\n        const meta = {\n            method: API_METHODS['delete'],\n        };\n    \n        const resp = await ApiAdapter(ITEMS_ENDPOINT, meta)\n        return resp;\n        \n    } catch (err) {\n        console.error(err);\n    }\n};","import en from './en.json';\nimport fr from './fr.json';\n\nexport default {\n    en,\n    fr,\n};","import locales from '../locales';\n\nconst useLocale = () => {\n    let defaultLocale = 'en'\n    const locale = window.localStorage.getItem('locale') ? JSON.parse(window.localStorage.getItem('locale')) : defaultLocale;\n\n    const i = (string) => {\n        \n        return locales[locale][string] || string;\n      }\n\n      return {\n          i\n      }\n}\n\nexport default useLocale;","import Todo from \"./pages/todo\"\n\nconst routes = [\n    {\n        name: 'Todo',\n        path: '/',\n        component: Todo\n    }\n]\n\nexport default routes;","import React, { useEffect, useState } from 'react';\nimport Button from '../../components/button';\nimport { getItemsAPI, addItemAPI, deleteItemAPI, updateItemAPI, deleteAllItemsAPI } from '../../api-gateway';\nimport useLocale from '../../hooks/use-locale';\nimport './todo.scss'\n\n\nconst TodoList =  () => {\n  const [inputMessage, setInputMessage] = useState('');\n  const { i } = useLocale();\n  const [items, setItems] = useState([]);\n\n  useEffect(() => {\n    const fetchItems = async () => {\n     const itemsList =  await getItemsAPI()\n\n     if(itemsList && Array.isArray(itemsList) && itemsList.length){\n      setItems(itemsList)\n     }\n    }\n\n    fetchItems();\n  }, [])\n\n  const activeItems = (items || []).filter(item => !item.isCompleted && !item.isDeleted);\n  const completedItems = (items || [] ).filter(item => item.isCompleted);\n\n\n  const addItem = async () => {\n\n    if(!inputMessage) {\n      return;\n    }\n\n    const item  = {\n      title: inputMessage\n    }\n\n\n   const itemSaved = await addItemAPI(item)\n\n   if(itemSaved && itemSaved.title) {\n      setItems([itemSaved, ...items])\n   }\n\n    setInputMessage('')\n  }\n\n  const deleteItem = async (item) => {\n    await deleteItemAPI(item);\n    setItems(items.filter(itm => itm._id !== item._id))\n  }\n\n  const updateItem = async (item) => {\n    const updatedItem = {\n      ...item,\n      isCompleted: true\n    }\n\n    await updateItemAPI(updatedItem);\n    \n    setItems(items.map(m => (m._id === item._id) ? updatedItem : m ))\n  }\n\n  const onClickAddButton = (e) => {\n    if (inputMessage) {\n      addItem();\n    }\n  };\n\n  const deleteAllItems = async () => {\n    await deleteAllItemsAPI();\n    setItems([]);\n  }\n\n  const onPressEnter = (e) => {\n    if (e.target.value && (e.keyCode || e.which === 13 || e.key === 'Enter')) {\n      addItem()\n    }\n  }\n\n\n  return <div className=\"todo \">\n    <div className=\"todo__container\">\n      <header className=\"todo__header\" >\n        <span>{i('todo-list')}</span>\n      </header>\n\n      <div className=\"todo__input-wrapper\">\n        <div>\n          <input\n            onChange={(e) => setInputMessage(e.target.value)}\n            onKeyPress={(e) => onPressEnter(e)}\n            value={inputMessage}\n            className=\"todo__input\"\n            placeholder={i('what-needs-to-be-done')}\n          />\n          <Button name={i('add')} className=\"button--success\" onClick={(e) => onClickAddButton(e)} />\n        </div>\n        <div>\n          <Button\n            name={i('reset')}\n            className=\"button--reset\"\n            onClick={() => deleteAllItems()}\n          />\n        </div>\n      </div>\n\n      <div className=\"todo__list-container\" >\n        <ul className=\"todo__list-wrapper\">\n          {activeItems.map(item => (\n            <li className=\"todo__list\" key={item._id}>\n              <span className=\"todo__list-item todo__list-item-active\" onClick={() => updateItem(item)}>{item.title}</span>\n              <Button\n                name={i('remove')}\n                className=\"button--danger\"\n                onClick={() => deleteItem(item)}\n              />\n            </li>\n          ))}\n        </ul>\n\n        <ul className=\"todo__list-wrapper\">\n          {completedItems.map(item => (\n            <li className=\"todo__list todo__mute-text\" key={item._id}> <span className=\"todo__list-item\"> {item.title} </span>  </li>\n          ))}\n        </ul>\n      </div>\n\n    </div>\n  </div>\n}\n\nexport default TodoList;","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport './layout.scss';\nimport useLocale from '../../hooks/use-locale';\nimport Button from '../button';\n\n\nconst Layout = (props) => {\n  const {\n    children,\n  } = props;\n\n  const { i } = useLocale();\n  const currentLocale  = window.localStorage.getItem('locale') ? JSON.parse(window.localStorage.getItem('locale'))  : 'en';\n  let defaultBtnLabel = 'English'\n\n  if(currentLocale) {\n    defaultBtnLabel = currentLocale === 'en' ? 'English' : 'French'\n  }\n\n  const [buttonLable, setButtonLabel] = useState(defaultBtnLabel);\n\n\n  const setLanguage = () => {\n       const newSetLng = currentLocale === 'en' ? 'fr' : 'en'\n\n       setButtonLabel(newSetLng === 'en' ? 'English' :'French')\n\n       window.localStorage.setItem('locale', JSON.stringify(newSetLng));    \n  }\n\n  useEffect(() => {\n  }, [buttonLable])\n  \n\n  return (\n    <div className=\"layout\">\n      <div className=\"layout__top\" >\n        <header className=\"layout__header\">{i('app-heading')}</header>\n        <Button  name={buttonLable} className=\"layout__locale-btn button--lang\"  onClick={() => setLanguage()} />\n      </div>\n\n        <div className=\"layout__content\" key={defaultBtnLabel}>\n          {children}\n        </div>\n\n    </div>\n  );\n};\n\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\n\nexport default React.memo(Layout);\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport routes from './routes';\nimport Layout from './components/layout';\n\n\nfunction App() {\n  return (\n    <div>\n      <Router>\n      <Switch>\n        {routes.map((route) => (\n          <Route\n            key={route.name}\n            path={route.path}\n            exact\n            render={(routeParams) => {\n              const { match } = routeParams;\n          \n              const urlParams = match.params;\n              const pageProps = {\n                ...routeParams,\n                urlParams,\n              };\n\n              return ( <Layout> <route.component {...pageProps} /></Layout>);\n            }}\n          />\n        ))}\n      </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}